(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{34:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c.n(s),n=c(15),r=c.n(n),i=c(12),j=(c(14),c(34),c(19)),l=c(3),d=c(10),o=c(7),h=c(29),b=c(1);var x=function(e){var t=e.inputText,c=e.setCity,s=e.setCoordinates,a=e.setInputText,n=e.setErrorMessage;return Object(b.jsx)("div",{children:Object(b.jsx)(d.a,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(h.a,{className:"searchBox",placeholder:"Search and press enter..","aria-label":"Search",onChange:function(e){e.preventDefault(),a(e.target.value)},onKeyPress:function(e){""!==t.trim()&&"Enter"===e.key&&fetch("http://api.openweathermap.org/geo/1.0/direct?q=".concat(t,"&limit=1&appid=7c65b73889e71f8242cc2cfdca0bb056")).then((function(e){return e.json()})).then((function(e){0!==e.length?(console.log(e),s([e[0].lat,e[0].lon]),c(e[0].name),a(""),n("")):n("Something went wrong, please try another city")}))},value:t})})})})},u=c(8);var O=function(e){var t=e.cityName;return Object(b.jsx)("div",{className:"header",children:Object(b.jsx)(d.a,{className:"cityName",children:Object(b.jsx)(u.a,{children:t})})})},m=c(26),p=c(25),g=c(27);var f=function(e){var t,c,s=e.mainTemp,a=e.sunset,n=e.sunrise,r=e.stringWeather,i=e.iconId,j=e.feelsLike,l=e.humidity,h=e.datetime,x=e.windDeg,O=e.windSpeed;function f(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=new Date(1e3*e),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=c.getFullYear(),n=s[c.getMonth()],r=c.getDate(),i=c.getHours();i=("0"+i).slice(-2);var j=c.getMinutes();j=("0"+j).slice(-2);var l=c.getSeconds();return l=("0"+l).slice(-2),t?r+" "+n+" "+a+" "+i+":"+j+":"+l:i+":"+j+":"+l}return Object(b.jsxs)("div",{className:"temperatureBox",children:[Object(b.jsx)(d.a,{children:Object(b.jsx)(u.a,{className:"currentDay",children:(c=h,new Date(1e3*c).toLocaleDateString("en-US",{weekday:"long"}))})}),Object(b.jsx)(d.a,{children:Object(b.jsx)(u.a,{className:"currentDate",children:Object(b.jsx)("span",{children:f(h)})})}),Object(b.jsxs)(d.a,{className:"tempInfo",children:[Object(b.jsx)(o.a,{lg:6,xs:12,children:Object(b.jsxs)(d.a,{className:"mainTempBox",children:[Object(b.jsx)(o.a,{lg:6,xs:12,className:"iconImg",children:Object(b.jsx)(m.a,{src:"https://openweathermap.org/img/wn/".concat(i,"@2x.png")})}),Object(b.jsxs)(o.a,{lg:6,xs:12,className:"temp",children:[Object(b.jsx)(o.a,{xs:12,className:"stringTempBox",children:Object(b.jsxs)(u.a,{className:"mainTemp",children:[Math.round(s),"\xb0C"]})}),Object(b.jsx)(o.a,{xs:12,children:Object(b.jsx)(u.a,{className:"stringWeather",children:r.toUpperCase()})})]})]})}),Object(b.jsx)(o.a,{lg:6,xs:12,children:Object(b.jsxs)(d.a,{className:"statsTemp",children:[Object(b.jsxs)(o.a,{lg:6,xs:12,children:[Object(b.jsx)("hr",{}),Object(b.jsxs)(u.a,{className:"feelsLike",children:[Math.round(j),"\xb0C"]}),Object(b.jsx)("p",{children:"FEELS LIKE"})]}),Object(b.jsxs)(o.a,{lg:6,xs:12,children:[Object(b.jsx)("hr",{}),Object(b.jsxs)(u.a,{className:"humidity",children:[l," %"]}),Object(b.jsx)("p",{children:"HUMIDITY"})]}),Object(b.jsxs)(o.a,{lg:6,xs:12,children:[Object(b.jsx)("hr",{}),Object(b.jsx)(u.a,{className:"sunrise",children:f(n,!1)}),Object(b.jsx)("p",{children:"SUNRISE"})]}),Object(b.jsxs)(o.a,{lg:6,xs:12,children:[Object(b.jsx)("hr",{}),Object(b.jsx)(u.a,{className:"sunset",children:f(a,!1)}),Object(b.jsx)("p",{children:"SUNSET"})]}),Object(b.jsxs)(o.a,{lg:6,xs:12,children:[Object(b.jsx)("hr",{}),Object(b.jsxs)(u.a,{className:"windDeg",children:[(t=x,["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.floor(t/22.5+.5)%16]),"\xa0\xa0\xa0",Object(b.jsx)(p.a,{icon:g.a,style:{transform:"rotate(".concat(x,"deg)")}})]}),Object(b.jsx)("p",{children:"WIND DIRECTION"})]}),Object(b.jsxs)(o.a,{lg:6,xs:12,children:[Object(b.jsx)("hr",{}),Object(b.jsxs)(u.a,{className:"windSpeed",children:[O," Km/h"]}),Object(b.jsx)("p",{children:"WIND SPEED"})]})]})})]})]})};var N=function(e){var t=e.data;return Object(b.jsx)("div",{children:Object(b.jsx)(f,{mainTemp:t.temp,sunrise:t.sunrise,sunset:t.sunset,stringWeather:t.weather[0].description,iconId:t.weather[0].icon,feelsLike:t.feels_like,humidity:t.humidity,datetime:t.dt,windDeg:t.wind_deg,windSpeed:t.wind_speed})})};var v=function(e){var t=e.data;return Object(b.jsx)("div",{children:t.map((function(e,t){return Object(b.jsx)(f,{mainTemp:e.temp.day,sunrise:e.sunrise,sunset:e.sunset,stringWeather:e.weather[0].description,iconId:e.weather[0].icon,feelsLike:e.feels_like.day,humidity:e.humidity,datetime:e.dt,windDeg:e.wind_deg,windSpeed:e.wind_speed},t)}))})};var S=function(){return Object(b.jsx)("div",{children:Object(b.jsx)(d.a,{children:Object(b.jsx)(o.a,{className:"loading",lg:{span:6,offset:3},xs:{span:8,offset:2},children:Object(b.jsx)(u.a,{children:"Loading..."})})})})};var w=function(e){var t=e.message;return Object(b.jsx)("div",{children:Object(b.jsx)(d.a,{children:Object(b.jsx)(o.a,{className:"error",lg:{span:6,offset:3},xs:{span:8,offset:2},children:Object(b.jsx)(u.a,{children:t})})})})},y=c(28),E=c(23),D="7c65b73889e71f8242cc2cfdca0bb056",I="https://api.openweathermap.org/data/2.5/onecall?";var W=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(),r=Object(i.a)(n,2),h=r[0],u=r[1],m=Object(s.useState)({}),p=Object(i.a)(m,2),g=p[0],f=p[1],W=Object(s.useState)(!1),k=Object(i.a)(W,2),T=k[0],C=k[1],M=Object(s.useState)([]),L=Object(i.a)(M,2),_=L[0],B=L[1],J=Object(s.useState)(""),U=Object(i.a)(J,2),F=U[0],K=U[1],P=Object(s.useCallback)((function(){void 0!==g.current&&g.current.temp<=15?C(!0):C(!1)}),[g]),A=Object(s.useCallback)((function(){navigator.geolocation.getCurrentPosition((function(e){B([e.coords.latitude,e.coords.longitude]),fetch("https://api.openweathermap.org/geo/1.0/reverse?lat=".concat(e.coords.latitude,"&lon=").concat(e.coords.longitude,"&limit=1&appid=").concat(D)).then((function(e){return e.json()})).then((function(e){u(e[0].name)}))}))}),[]);return Object(s.useEffect)((function(){A()}),[A]),Object(s.useEffect)((function(){0!==_.length&&fetch("".concat(I,"lat=").concat(_[0],"&lon=").concat(_[1],"&exclude=minutely,hourly&units=metric&appid=").concat(D)).then((function(e){return e.json()})).then((function(e){f(e),console.log(e)}))}),[_]),Object(s.useEffect)((function(){P()}),[P]),Object(b.jsx)("div",{className:"app ".concat(T?"cold":""),children:Object(b.jsx)(j.a,{basename:"/react-weather",children:Object(b.jsxs)(y.a,{children:[Object(b.jsx)(x,{inputText:c,setInputText:a,setCity:u,setCoordinates:B,setErrorMessage:K}),""!==F&&Object(b.jsx)(w,{message:F}),Object.keys(g).length>0&&Object(b.jsxs)("div",{children:[Object(b.jsx)(d.a,{className:"buttons",children:Object(b.jsxs)(o.a,{className:"link",children:[Object(b.jsx)(E.a,{variant:"secondary",children:Object(b.jsx)(j.b,{to:"/",children:"Current"})}),Object(b.jsx)(E.a,{variant:"secondary",children:Object(b.jsx)(j.b,{to:"/daily",children:"Daily"})})]})}),Object(b.jsx)(O,{cityName:h,datetime:g.current.dt}),Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/",element:Object(b.jsx)(N,{data:g.current})}),Object(b.jsx)(l.a,{path:"/daily",element:Object(b.jsx)(v,{data:g.daily})})]})]})||Object(b.jsx)(S,{})]})})})};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(W,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7dc728ce.chunk.js.map